!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=9)}([function(e,n,t){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a={};function c(e,n,t){for(var r=0;r<n.length;r++){var o={css:n[r][1],media:n[r][2],sourceMap:n[r][3]};a[e][r]?a[e][r](o):a[e].push(g(o,t))}}function s(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function u(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,f=0;function g(e,n){var t,r,o;if(n.singleton){var i=f++;t=h||(h=s(n)),r=u.bind(null,t,i,!1),o=u.bind(null,t,i,!0)}else t=s(n),r=p.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n,t){return(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o()),e=t.base?e+t.base:e,n=n||[],a[e]||(a[e]=[]),c(e,n,t),function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){a[e]||(a[e]=[]),c(e,n,t);for(var r=n.length;r<a[e].length;r++)a[e][r]();a[e].length=n.length,0===a[e].length&&delete a[e]}}}},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[t].concat(i).concat([o]).join("\n")}var a,c,s;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);t&&(o[2]?o[2]="".concat(t," and ").concat(o[2]):o[2]=t),n.push(o)}},n}},function(e,n,t){var r=t(0),o=t(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(e.i,o,i),o.locals?o.locals:{});e.exports=a},function(e,n,t){(n=t(1)(!1)).push([e.i,".topnav {\r\n    background-color: #373738;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    position: fixed;\r\n    top: 0px;\r\n    z-index: 10000;\r\n}\r\n\r\n.topnav a {\r\n    float: right;\r\n    color: #cccccc;\r\n    text-align: center;\r\n    padding: 14px 16px;\r\n    text-decoration: none;\r\n    font-size: 17px;\r\n}\r\n\r\n.topnav a:hover {\r\n    background-color: #505050;\r\n    text-decoration: none;\r\n    color: #cccccc;\r\n}\r\n\r\n.topnav a.active {\r\n    background-color: #303030;\r\n    text-decoration: none;\r\n    color: #cccccc;\r\n}",""]),e.exports=n},function(e,n,t){var r=t(0),o=t(5);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(e.i,o,i),o.locals?o.locals:{});e.exports=a},function(e,n,t){(n=t(1)(!1)).push([e.i,".sidebar {\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 200px;\r\n    background-color: rgb(37, 37, 38);\r\n    position: fixed;\r\n    height: calc(100% - 51px);\r\n    overflow: auto;\r\n    top: 51px;\r\n}\r\n\r\n.sidebar.sidebar-off{\r\n    display: none;\r\n}\r\n\r\n.sidebar a {\r\n    display: block;\r\n    color: #cccccc;\r\n    padding: 7px;\r\n    text-decoration: none;\r\n    font-size: 13px;\r\n    text-align: center;\r\n}\r\n\r\n.sidebar a.active {\r\n    background-color: rgb(55, 55, 61);\r\n    color: #cccccc;\r\n}\r\n\r\n.sidebar a:hover:not(.active) {\r\n    background-color: rgb(42, 45, 46);\r\n    color: #cccccc;\r\n}",""]),e.exports=n},function(e,n,t){var r=t(0),o=t(7);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(e.i,o,i),o.locals?o.locals:{});e.exports=a},function(e,n,t){(n=t(1)(!1)).push([e.i,"body {\r\n    background-color: #303030 !important;\r\n    margin: 0;\r\n}\r\n\r\ndiv.content {\r\n    margin-left: 200px;\r\n    top: 51px;\r\n    position: fixed;\r\n    /* padding: 1px 16px; */\r\n    height: calc(100% - 51px);\r\n    width: calc(100% - 200px);\r\n    overflow-x: hidden; \r\n    overflow-y: auto; \r\n}\r\n\r\ndiv.content.sidebar-off {\r\n    width: 100%;\r\n}\r\n\r\n.blog>p {\r\n    color: rgb(212, 212, 212);\r\n}\r\n\r\n.blog>h1 {\r\n    color: rgb(212, 212, 212);\r\n}\r\n\r\n.blog>h2 {\r\n    color: rgb(212, 212, 212);\r\n}\r\n\r\n.blog>h3 {\r\n    color: rgb(212, 212, 212);\r\n}\r\n\r\n.blog {\r\n    padding: 20px;\r\n    margin-top: 20px;\r\n}",""]),e.exports=n},function(e,n){e.exports='<h2 id="hello-world">Hello World!</h2>\n<h3 id="2019-12-27">2019-12-27</h3>\n<p>I am Tianyu Li, currently a graphics focus graduate student. I will share my experience about graphics and programming topics via this blog website! My recent work is mainly about Ray Tracing and NURBS modeling technique. Next semester, I plan to implement my own realtime renderer in Rust Programming language, which is going to support physics animation, gpu based ray tracing, and pbr based realtime rendering. If you are interested at Rust or graphics topics, you can visit this website on a monthly basis to check my updates. </p>\n<p>This website was designed to be a website with no thirdparty dependency except for Webpack. I implemented every details required by a static blog website. Because of its staticity, you can not leave a review on this web page, I am glad to build further contacts with you by Email. Feel free to contact me!</p>\n<p><img src="https://github.com/WeakKnight/weakknight.github.io/raw/master/assets/rtanimation.gif" alt="alt"/> \n<img src="https://github.com/WeakKnight/weakknight.github.io/raw/master/assets/pthighssp.png" alt="alt"/> </p>\n'},function(e,n,t){"use strict";t.r(n);class r{constructor(e){this.element=e}enableClass(e){return this.element.classList.add(e),this}disableClass(e){return this.element.classList.remove(e),this}html(e){return this.element.innerHTML=e,this}addElement(e){let n=document.createElement(e);return this.element.appendChild(n),new r(n)}}function o(e){if(e instanceof String||"string"==typeof e){if(-1!==e.indexOf("#")){let n=document.getElementById(e);return new r(n)}{let n=document.getElementsByClassName(e)[0];return new r(n)}}return new r(e)}t(2);t(4);t(6);var i=t(8);console.log(i);let a=new class{constructor(e){this.currentState=e,this.previousState=e,this.onChangeListener=[]}changeState(e){for(let n of this.onChangeListener)n(this.currentState,e);this.previousState=this.currentState,this.currentState=e}onChange(e){this.onChangeListener.push(e)}clearListener(){this.onChangeListener=[]}}(0),c=(e,n)=>{e!==n&&o("content").html(""),0===n&&0!==e&&(o("topnav").disableClass("sidebar-off"),o("sidebar").disableClass("sidebar-off"),o("content").addElement("div").enableClass("blog").html(i)),0!==n&&0===e&&(o("topnav").enableClass("sidebar-off"),o("sidebar").enableClass("sidebar-off"))};new class{constructor(e,n,t){this.activeIndex=t,this.parent=e,this.container=document.createElement("div"),this.container.classList.add("topnav"),this.parent.appendChild(this.container),this.children=[],this.items=n,this.items.forEach((e,n)=>{let t=document.createElement("a");this.children.push(t),t.innerText=e[0],t.href="#"+e[0],t.index=n,t.onclick=()=>{for(let e of this.children)o(e).disableClass("active");this.activeIndex=t.index,o(t).enableClass("active"),e[1]()},n===this.activeIndex&&t.classList.add("active"),this.container.appendChild(t)})}}(document.getElementById("header"),[["Contact",()=>{a.changeState(2)}],["Portfolio",()=>{a.changeState(1)}],["Home",()=>{a.changeState(0)}]],2);a.onChange(c),c(-1,0)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbmF2YmFyLmNzcz84MDI4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25hdmJhci5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2lkZWJhci5jc3M/NDE4ZCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zaWRlYmFyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzLmNzcz80NGIyIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9ibG9ncy9oZWxsb3dvcmxkLm1kIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zdGF0ZW1hY2hpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbmF2YmFyLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJsZW5ndGgiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsIm9iaiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJjb25jYXQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwiYmFzZSIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsImoiLCJ1c2VTb3VyY2VNYXAiLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsImRhdGEiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFwaSIsImRlZmF1bHQiLCJleHBvcnRlZCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIkhUTUxFbGVtZW50V3JhcHBlciIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJuZXdFbGVtZW50IiwiJCIsIlN0cmluZyIsImluZGV4T2YiLCJkb20iLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJtZGh0bWwiLCJjb25zb2xlIiwibG9nIiwiZ2xvYmFsU3RhdGVNYWhpbmUiLCJkZWZhdWx0U3RhdGUiLCJjdXJyZW50U3RhdGUiLCJwcmV2aW91c1N0YXRlIiwib25DaGFuZ2VMaXN0ZW5lciIsInN0YXRlIiwiY2FsbGJhY2siLCJvbkNoYW5nZSIsInByZXZpb3VzIiwiY3VycmVudCIsImh0bWwiLCJkaXNhYmxlQ2xhc3MiLCJhZGRFbGVtZW50IiwiZW5hYmxlQ2xhc3MiLCJwYXJlbnQiLCJpdGVtcyIsImFjdGl2ZUluZGV4IiwiY29udGFpbmVyIiwiY2hpbGRyZW4iLCJhIiwiaW5uZXJUZXh0IiwiaHJlZiIsIm9uY2xpY2siLCJjaGlsZCIsImNoYW5nZVN0YXRlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLCtCQ2hGckQsSUFDTUMsRUFERkMsRUFFSyxXQVVMLFlBVG9CLElBQVRELElBTVRBLEVBQU9FLFFBQVFDLFFBQVVDLFVBQVlBLFNBQVNDLE1BQVFGLE9BQU9HLE9BR3hETixHQUlQTyxFQUFZLFdBQ2QsSUFBSVAsRUFBTyxHQUNYLE9BQU8sU0FBa0JRLEdBQ3ZCLFFBQTRCLElBQWpCUixFQUFLUSxHQUF5QixDQUN2QyxJQUFJQyxFQUFjTCxTQUFTTSxjQUFjRixHQUV6QyxHQUFJTCxPQUFPUSxtQkFBcUJGLGFBQXVCTixPQUFPUSxrQkFDNUQsSUFHRUYsRUFBY0EsRUFBWUcsZ0JBQWdCQyxLQUMxQyxNQUFPQyxHQUVQTCxFQUFjLEtBSWxCVCxFQUFLUSxHQUFVQyxFQUdqQixPQUFPVCxFQUFLUSxJQXBCQSxHQXdCWk8sRUFBYyxHQUVsQixTQUFTQyxFQUFhbkQsRUFBVW9ELEVBQU1DLEdBQ3BDLElBQUssSUFBSWxELEVBQUksRUFBR0EsRUFBSWlELEVBQUtFLE9BQVFuRCxJQUFLLENBQ3BDLElBQUlvRCxFQUFPLENBQ1RDLElBQUtKLEVBQUtqRCxHQUFHLEdBQ2JzRCxNQUFPTCxFQUFLakQsR0FBRyxHQUNmdUQsVUFBV04sRUFBS2pELEdBQUcsSUFHakIrQyxFQUFZbEQsR0FBVUcsR0FDeEIrQyxFQUFZbEQsR0FBVUcsR0FBR29ELEdBRXpCTCxFQUFZbEQsR0FBVTJELEtBQUtDLEVBQVNMLEVBQU1GLEtBS2hELFNBQVNRLEVBQW1CUixHQUMxQixJQUFJUyxFQUFRdkIsU0FBU3dCLGNBQWMsU0FDL0JDLEVBQWFYLEVBQVFXLFlBQWMsR0FFdkMsUUFBZ0MsSUFBckJBLEVBQVdDLE1BQXVCLENBQzNDLElBQUlBLEVBQW1ELEtBRW5EQSxJQUNGRCxFQUFXQyxNQUFRQSxHQVF2QixHQUpBcEQsT0FBT3FELEtBQUtGLEdBQVlHLFNBQVEsU0FBVXpDLEdBQ3hDb0MsRUFBTU0sYUFBYTFDLEVBQUtzQyxFQUFXdEMsT0FHUCxtQkFBbkIyQixFQUFRZ0IsT0FDakJoQixFQUFRZ0IsT0FBT1AsT0FDVixDQUNMLElBQUluQixFQUFTRCxFQUFVVyxFQUFRZ0IsUUFBVSxRQUV6QyxJQUFLMUIsRUFDSCxNQUFNLElBQUkyQixNQUFNLDJHQUdsQjNCLEVBQU80QixZQUFZVCxHQUdyQixPQUFPQSxFQWNULElBQ01VLEVBREZDLEdBQ0VELEVBQVksR0FDVCxTQUFpQkUsRUFBT0MsR0FFN0IsT0FEQUgsRUFBVUUsR0FBU0MsRUFDWkgsRUFBVUksT0FBT3ZDLFNBQVN3QyxLQUFLLFFBSTFDLFNBQVNDLEVBQW9CaEIsRUFBT1ksRUFBT0ssRUFBUUMsR0FDakQsSUFBSXhCLEVBQU11QixFQUFTLEdBQUtDLEVBQUl4QixJQUk1QixHQUFJTSxFQUFNbUIsV0FDUm5CLEVBQU1tQixXQUFXQyxRQUFVVCxFQUFZQyxFQUFPbEIsT0FDekMsQ0FDTCxJQUFJMkIsRUFBVTVDLFNBQVM2QyxlQUFlNUIsR0FDbEM2QixFQUFhdkIsRUFBTXVCLFdBRW5CQSxFQUFXWCxJQUNiWixFQUFNd0IsWUFBWUQsRUFBV1gsSUFHM0JXLEVBQVcvQixPQUNiUSxFQUFNeUIsYUFBYUosRUFBU0UsRUFBV1gsSUFFdkNaLEVBQU1TLFlBQVlZLElBS3hCLFNBQVNLLEVBQVcxQixFQUFPVCxFQUFTMkIsR0FDbEMsSUFBSXhCLEVBQU13QixFQUFJeEIsSUFDVkMsRUFBUXVCLEVBQUl2QixNQUNaQyxFQUFZc0IsRUFBSXRCLFVBZXBCLEdBYklELEVBQ0ZLLEVBQU1NLGFBQWEsUUFBU1gsR0FFNUJLLEVBQU0yQixnQkFBZ0IsU0FHcEIvQixHQUFhZ0MsT0FDZmxDLEdBQU8sdURBQXVEbUMsT0FBT0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVckMsTUFBZSxRQU1sSUksRUFBTW1CLFdBQ1JuQixFQUFNbUIsV0FBV0MsUUFBVTFCLE1BQ3RCLENBQ0wsS0FBT00sRUFBTWtDLFlBQ1hsQyxFQUFNd0IsWUFBWXhCLEVBQU1rQyxZQUcxQmxDLEVBQU1TLFlBQVloQyxTQUFTNkMsZUFBZTVCLEtBSTlDLElBQUl5QyxFQUFZLEtBQ1pDLEVBQW1CLEVBRXZCLFNBQVN0QyxFQUFTb0IsRUFBSzNCLEdBQ3JCLElBQUlTLEVBQ0FxQyxFQUNBcEIsRUFFSixHQUFJMUIsRUFBUTRDLFVBQVcsQ0FDckIsSUFBSUcsRUFBYUYsSUFDakJwQyxFQUFRbUMsSUFBY0EsRUFBWXBDLEVBQW1CUixJQUNyRDhDLEVBQVNyQixFQUFvQm5ELEtBQUssS0FBTW1DLEVBQU9zQyxHQUFZLEdBQzNEckIsRUFBU0QsRUFBb0JuRCxLQUFLLEtBQU1tQyxFQUFPc0MsR0FBWSxRQUUzRHRDLEVBQVFELEVBQW1CUixHQUMzQjhDLEVBQVNYLEVBQVc3RCxLQUFLLEtBQU1tQyxFQUFPVCxHQUV0QzBCLEVBQVMsWUF4RmIsU0FBNEJqQixHQUUxQixHQUF5QixPQUFyQkEsRUFBTXVDLFdBQ1IsT0FBTyxFQUdUdkMsRUFBTXVDLFdBQVdmLFlBQVl4QixHQW1GekJ3QyxDQUFtQnhDLElBS3ZCLE9BREFxQyxFQUFPbkIsR0FDQSxTQUFxQnVCLEdBQzFCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPL0MsTUFBUXdCLEVBQUl4QixLQUFPK0MsRUFBTzlDLFFBQVV1QixFQUFJdkIsT0FBUzhDLEVBQU83QyxZQUFjc0IsRUFBSXRCLFVBQ25GLE9BR0Z5QyxFQUFPbkIsRUFBTXVCLFFBRWJ4QixLQUtON0UsRUFBT0QsUUFBVSxTQUFVRCxFQUFVb0QsRUFBTUMsR0FnQnpDLE9BZkFBLEVBQVVBLEdBQVcsSUFHUjRDLFdBQTBDLGtCQUF0QjVDLEVBQVE0QyxZQUN2QzVDLEVBQVE0QyxVQUFZN0QsS0FHdEJwQyxFQUFXcUQsRUFBUW1ELEtBQU94RyxFQUFXcUQsRUFBUW1ELEtBQU94RyxFQUNwRG9ELEVBQU9BLEdBQVEsR0FFVkYsRUFBWWxELEtBQ2ZrRCxFQUFZbEQsR0FBWSxJQUcxQm1ELEVBQWFuRCxFQUFVb0QsRUFBTUMsR0FDdEIsU0FBZ0JvRCxHQUdyQixHQUZBQSxFQUFVQSxHQUFXLEdBRTJCLG1CQUE1QzVGLE9BQU9rQixVQUFVMkUsU0FBU3BHLEtBQUttRyxHQUFuQyxDQUlLdkQsRUFBWWxELEtBQ2ZrRCxFQUFZbEQsR0FBWSxJQUcxQm1ELEVBQWFuRCxFQUFVeUcsRUFBU3BELEdBRWhDLElBQUssSUFBSXNELEVBQUlGLEVBQVFuRCxPQUFRcUQsRUFBSXpELEVBQVlsRCxHQUFVc0QsT0FBUXFELElBQzdEekQsRUFBWWxELEdBQVUyRyxLQUd4QnpELEVBQVlsRCxHQUFVc0QsT0FBU21ELEVBQVFuRCxPQUVGLElBQWpDSixFQUFZbEQsR0FBVXNELGVBQ2pCSixFQUFZbEQsTyw2QkNsT3pCRSxFQUFPRCxRQUFVLFNBQVUyRyxHQUN6QixJQUFJeEQsRUFBTyxHQXFDWCxPQW5DQUEsRUFBS3NELFNBQVcsV0FDZCxPQUFPRyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBb0NWLFNBQWdDRCxFQUFNSCxHQUNwQyxJQUFJSSxFQUFVRCxFQUFLLElBQU0sR0FFckJFLEVBQWFGLEVBQUssR0FFdEIsSUFBS0UsRUFDSCxPQUFPRCxFQUdULEdBQUlKLEdBQWdDLG1CQUFUbEIsS0FBcUIsQ0FDOUMsSUFBSXdCLEdBV1d4RCxFQVhldUQsRUFhNUJFLEVBQVN6QixLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVyQyxNQUN6RDBELEVBQU8sK0RBQStEekIsT0FBT3dCLEdBQzFFLE9BQU94QixPQUFPeUIsRUFBTSxRQWRyQkMsRUFBYUosRUFBV0ssUUFBUVIsS0FBSSxTQUFVUyxHQUNoRCxNQUFPLGlCQUFpQjVCLE9BQU9zQixFQUFXTyxZQUFZN0IsT0FBTzRCLEVBQVEsVUFFdkUsTUFBTyxDQUFDUCxHQUFTckIsT0FBTzBCLEdBQVkxQixPQUFPLENBQUN1QixJQUFnQnJDLEtBQUssTUFPckUsSUFBbUJuQixFQUVieUQsRUFDQUMsRUFQSixNQUFPLENBQUNKLEdBQVNuQyxLQUFLLE1BckRKNEMsQ0FBdUJWLEVBQU1ILEdBRTNDLE9BQUlHLEVBQUssR0FDQSxVQUFVcEIsT0FBT29CLEVBQUssR0FBSSxNQUFNcEIsT0FBT3FCLEVBQVMsS0FHbERBLEtBQ05uQyxLQUFLLEtBS1Z6QixFQUFLakQsRUFBSSxTQUFVRSxFQUFTcUgsR0FDSCxpQkFBWnJILElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUlFLEVBQVFpRCxPQUFRbkQsSUFBSyxDQUN2QyxJQUFJNEcsRUFBTyxHQUFHcEIsT0FBT3RGLEVBQVFGLElBRXpCdUgsSUFDR1gsRUFBSyxHQUdSQSxFQUFLLEdBQUssR0FBR3BCLE9BQU8rQixFQUFZLFNBQVMvQixPQUFPb0IsRUFBSyxJQUZyREEsRUFBSyxHQUFLVyxHQU1kdEUsRUFBS08sS0FBS29ELEtBSVAzRCxJLGdCQzlDVCxJQUFJdUUsRUFBTSxFQUFRLEdBQ0ZYLEVBQVUsRUFBUSxHQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUXpGLFdBQWF5RixFQUFRWSxRQUFVWixLQUcvQ0EsRUFBVSxDQUFDLENBQUM5RyxFQUFPQyxFQUFJNkcsRUFBUyxNQUc5QyxJQUFJM0QsRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCd0UsR0FGU0YsRUFBSXpILEVBQU9DLEVBQUk2RyxFQUFTM0QsR0FFdEIyRCxFQUFRYyxPQUFTZCxFQUFRYyxPQUFTLElBSWpENUgsRUFBT0QsUUFBVTRILEcsaUJDbEJqQjVILEVBRGtDLEVBQVEsRUFDaEM4SCxFQUE0QixJQUU5QnBFLEtBQUssQ0FBQ3pELEVBQU9DLEVBQUksMmpCQUE0akIsS0FFcmxCRCxFQUFPRCxRQUFVQSxHLGdCQ05qQixJQUFJMEgsRUFBTSxFQUFRLEdBQ0ZYLEVBQVUsRUFBUSxHQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUXpGLFdBQWF5RixFQUFRWSxRQUFVWixLQUcvQ0EsRUFBVSxDQUFDLENBQUM5RyxFQUFPQyxFQUFJNkcsRUFBUyxNQUc5QyxJQUFJM0QsRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCd0UsR0FGU0YsRUFBSXpILEVBQU9DLEVBQUk2RyxFQUFTM0QsR0FFdEIyRCxFQUFRYyxPQUFTZCxFQUFRYyxPQUFTLElBSWpENUgsRUFBT0QsUUFBVTRILEcsaUJDbEJqQjVILEVBRGtDLEVBQVEsRUFDaEM4SCxFQUE0QixJQUU5QnBFLEtBQUssQ0FBQ3pELEVBQU9DLEVBQUksNG9CQUE2b0IsS0FFdHFCRCxFQUFPRCxRQUFVQSxHLGdCQ05qQixJQUFJMEgsRUFBTSxFQUFRLEdBQ0ZYLEVBQVUsRUFBUSxHQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUXpGLFdBQWF5RixFQUFRWSxRQUFVWixLQUcvQ0EsRUFBVSxDQUFDLENBQUM5RyxFQUFPQyxFQUFJNkcsRUFBUyxNQUc5QyxJQUFJM0QsRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCd0UsR0FGU0YsRUFBSXpILEVBQU9DLEVBQUk2RyxFQUFTM0QsR0FFdEIyRCxFQUFRYyxPQUFTZCxFQUFRYyxPQUFTLElBSWpENUgsRUFBT0QsUUFBVTRILEcsaUJDbEJqQjVILEVBRGtDLEVBQVEsRUFDaEM4SCxFQUE0QixJQUU5QnBFLEtBQUssQ0FBQ3pELEVBQU9DLEVBQUksc3FCQUF1cUIsS0FFaHNCRCxFQUFPRCxRQUFVQSxHLGNDTmpCQyxFQUFPRCxRQUFVLHdvQyxvQ0NBakIsTUFBTStILEVBQ0YsWUFBWUMsR0FDUnBCLEtBQUtvQixRQUFVQSxFQUduQixZQUFZQyxHQUVSLE9BREFyQixLQUFLb0IsUUFBUUUsVUFBVUMsSUFBSUYsR0FDcEJyQixLQUdYLGFBQWFxQixHQUVULE9BREFyQixLQUFLb0IsUUFBUUUsVUFBVXBELE9BQU9tRCxHQUN2QnJCLEtBR1gsS0FBS0csR0FFRCxPQURBSCxLQUFLb0IsUUFBUUksVUFBWXJCLEVBQ2xCSCxLQUdYLFdBQVduRyxHQUNQLElBQUk0SCxFQUFhL0YsU0FBU3dCLGNBQWNyRCxHQUV4QyxPQURBbUcsS0FBS29CLFFBQVExRCxZQUFZK0QsR0FDbEIsSUFBSU4sRUFBbUJNLElBSXZCLFNBQVNDLEVBQUVOLEdBQ3RCLEdBQUtBLGFBQW1CTyxRQUFpQyxpQkFBZCxFQUF5QixDQUNoRSxJQUE4QixJQUExQlAsRUFBUVEsUUFBUSxLQUFhLENBQzdCLElBQUlDLEVBQU1uRyxTQUFTb0csZUFBZVYsR0FDbEMsT0FBTyxJQUFJRCxFQUFtQlUsR0FDM0IsQ0FDSCxJQUFJQSxFQUFNbkcsU0FBU3FHLHVCQUF1QlgsR0FBUyxHQUNuRCxPQUFPLElBQUlELEVBQW1CVSxJQUdsQyxPQUFPLElBQUlWLEVBQW1CQyxHLG1CQzlCbENZLEVBQVMsRUFBUSxHQUNyQkMsUUFBUUMsSUFBSUYsR0FPWixJQUlJRyxFQUFvQixJQ2pCVCxNQUNYLFlBQVlDLEdBQ1JwQyxLQUFLcUMsYUFBZUQsRUFDcEJwQyxLQUFLc0MsY0FBZ0JGLEVBQ3JCcEMsS0FBS3VDLGlCQUFtQixHQUc1QixZQUFZQyxHQUNSLElBQUssSUFBSUMsS0FBWXpDLEtBQUt1QyxpQkFDdEJFLEVBQVN6QyxLQUFLcUMsYUFBY0csR0FHaEN4QyxLQUFLc0MsY0FBZ0J0QyxLQUFLcUMsYUFDMUJyQyxLQUFLcUMsYUFBZUcsRUFHeEIsU0FBU0MsR0FDTHpDLEtBQUt1QyxpQkFBaUJ6RixLQUFLMkYsR0FHL0IsZ0JBQ0l6QyxLQUFLdUMsaUJBQW1CLEtEWmIsR0FvQmZHLEVBQVcsQ0FBQ0MsRUFBVUMsS0FDbEJELElBQWFDLEdBaEJqQmxCLEVBQUUsV0FBV21CLEtBQUssSUFMSCxJQTBCWEQsR0ExQlcsSUEwQmVELElBRTFCakIsRUFBRSxVQUFVb0IsYUFBYSxlQUN6QnBCLEVBQUUsV0FBV29CLGFBQWEsZUFHMUJwQixFQUFFLFdBQ0dxQixXQUFXLE9BQ1hDLFlBQVksUUFDWkgsS0FBS2IsSUFuQ0MsSUF1Q1hZLEdBdkNXLElBdUNlRCxJQUMxQmpCLEVBQUUsVUFBVXNCLFlBQVksZUFDeEJ0QixFQUFFLFdBQVdzQixZQUFZLGlCQUlwQixJRXJERSxNQUNYLFlBQVlDLEVBQVFDLEVBQU9DLEdBQ3ZCbkQsS0FBS21ELFlBQWNBLEVBRW5CbkQsS0FBS2lELE9BQVNBLEVBRWRqRCxLQUFLb0QsVUFBWTFILFNBQVN3QixjQUFjLE9BQ3hDOEMsS0FBS29ELFVBQVU5QixVQUFVQyxJQUFJLFVBRTdCdkIsS0FBS2lELE9BQU92RixZQUFZc0MsS0FBS29ELFdBRTdCcEQsS0FBS3FELFNBQVcsR0FFaEJyRCxLQUFLa0QsTUFBUUEsRUFDYmxELEtBQUtrRCxNQUFNNUYsUUFBUSxDQUFDNEMsRUFBTXJDLEtBQ3RCLElBQUl5RixFQUFJNUgsU0FBU3dCLGNBQWMsS0FFL0I4QyxLQUFLcUQsU0FBU3ZHLEtBQUt3RyxHQUVuQkEsRUFBRUMsVUFBWXJELEVBQUssR0FDbkJvRCxFQUFFRSxLQUFPLElBQU10RCxFQUFLLEdBQ3BCb0QsRUFBUyxNQUFJekYsRUFDYnlGLEVBQUVHLFFBQVUsS0FDUixJQUFLLElBQUlDLEtBQVMxRCxLQUFLcUQsU0FDbkIzQixFQUFFZ0MsR0FBT1osYUFBYSxVQUcxQjlDLEtBQUttRCxZQUFjRyxFQUFFekYsTUFDckI2RCxFQUFFNEIsR0FBR04sWUFBWSxVQUVqQjlDLEVBQUssTUFHTHJDLElBQVVtQyxLQUFLbUQsYUFDZkcsRUFBRWhDLFVBQVVDLElBQUksVUFHcEJ2QixLQUFLb0QsVUFBVTFGLFlBQVk0RixPRmdCZjVILFNBQVNvRyxlQUFlLFVBQVcsQ0FBQyxDQUFDLFVBN0IvQyxLQUNWSyxFQUFrQndCLFlBZkEsS0EyQzRELENBQUMsWUFoQ25FLEtBQ1p4QixFQUFrQndCLFlBYkUsS0E0Q29GLENBQUMsT0FuQ2xHLEtBQ1B4QixFQUFrQndCLFlBWEgsTUE2QzBHLEdBRTdIeEIsRUFBa0JPLFNBQVNBLEdBQzNCQSxHQWpEb0IsRUFDRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obW9kdWxlSWQsIGxpc3QsIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhcnQgPSB7XG4gICAgICBjc3M6IGxpc3RbaV1bMV0sXG4gICAgICBtZWRpYTogbGlzdFtpXVsyXSxcbiAgICAgIHNvdXJjZU1hcDogbGlzdFtpXVszXVxuICAgIH07XG5cbiAgICBpZiAoc3R5bGVzSW5Eb21bbW9kdWxlSWRdW2ldKSB7XG4gICAgICBzdHlsZXNJbkRvbVttb2R1bGVJZF1baV0ocGFydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tW21vZHVsZUlkXS5wdXNoKGFkZFN0eWxlKHBhcnQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgbGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBtb2R1bGVJZCA9IG9wdGlvbnMuYmFzZSA/IG1vZHVsZUlkICsgb3B0aW9ucy5iYXNlIDogbW9kdWxlSWQ7XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuXG4gIGlmICghc3R5bGVzSW5Eb21bbW9kdWxlSWRdKSB7XG4gICAgc3R5bGVzSW5Eb21bbW9kdWxlSWRdID0gW107XG4gIH1cblxuICBtb2R1bGVzVG9Eb20obW9kdWxlSWQsIGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXN0eWxlc0luRG9tW21vZHVsZUlkXSkge1xuICAgICAgc3R5bGVzSW5Eb21bbW9kdWxlSWRdID0gW107XG4gICAgfVxuXG4gICAgbW9kdWxlc1RvRG9tKG1vZHVsZUlkLCBuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIGogPSBuZXdMaXN0Lmxlbmd0aDsgaiA8IHN0eWxlc0luRG9tW21vZHVsZUlkXS5sZW5ndGg7IGorKykge1xuICAgICAgc3R5bGVzSW5Eb21bbW9kdWxlSWRdW2pdKCk7XG4gICAgfVxuXG4gICAgc3R5bGVzSW5Eb21bbW9kdWxlSWRdLmxlbmd0aCA9IG5ld0xpc3QubGVuZ3RoO1xuXG4gICAgaWYgKHN0eWxlc0luRG9tW21vZHVsZUlkXS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBzdHlsZXNJbkRvbVttb2R1bGVJZF07XG4gICAgfVxuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW2ldKTtcblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290KS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9uYXZiYXIuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKG1vZHVsZS5pZCwgY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50b3BuYXYge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzczNzM4O1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICB0b3A6IDBweDtcXHJcXG4gICAgei1pbmRleDogMTAwMDA7XFxyXFxufVxcclxcblxcclxcbi50b3BuYXYgYSB7XFxyXFxuICAgIGZsb2F0OiByaWdodDtcXHJcXG4gICAgY29sb3I6ICNjY2NjY2M7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgcGFkZGluZzogMTRweCAxNnB4O1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTdweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRvcG5hdiBhOmhvdmVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzUwNTA1MDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgICBjb2xvcjogI2NjY2NjYztcXHJcXG59XFxyXFxuXFxyXFxuLnRvcG5hdiBhLmFjdGl2ZSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDMwMzA7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgY29sb3I6ICNjY2NjY2M7XFxyXFxufVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2lkZWJhci5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkobW9kdWxlLmlkLCBjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnNpZGViYXIge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxuICAgIHdpZHRoOiAyMDBweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDM3LCAzNywgMzgpO1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gNTFweCk7XFxyXFxuICAgIG92ZXJmbG93OiBhdXRvO1xcclxcbiAgICB0b3A6IDUxcHg7XFxyXFxufVxcclxcblxcclxcbi5zaWRlYmFyLnNpZGViYXItb2Zme1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uc2lkZWJhciBhIHtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGNvbG9yOiAjY2NjY2NjO1xcclxcbiAgICBwYWRkaW5nOiA3cHg7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgZm9udC1zaXplOiAxM3B4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5zaWRlYmFyIGEuYWN0aXZlIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDU1LCA1NSwgNjEpO1xcclxcbiAgICBjb2xvcjogI2NjY2NjYztcXHJcXG59XFxyXFxuXFxyXFxuLnNpZGViYXIgYTpob3Zlcjpub3QoLmFjdGl2ZSkge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNDIsIDQ1LCA0Nik7XFxyXFxuICAgIGNvbG9yOiAjY2NjY2NjO1xcclxcbn1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkobW9kdWxlLmlkLCBjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDMwMzAgIWltcG9ydGFudDtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5kaXYuY29udGVudCB7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAyMDBweDtcXHJcXG4gICAgdG9wOiA1MXB4O1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIC8qIHBhZGRpbmc6IDFweCAxNnB4OyAqL1xcclxcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDUxcHgpO1xcclxcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMjAwcHgpO1xcclxcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47IFxcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvOyBcXHJcXG59XFxyXFxuXFxyXFxuZGl2LmNvbnRlbnQuc2lkZWJhci1vZmYge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmJsb2c+cCB7XFxyXFxuICAgIGNvbG9yOiByZ2IoMjEyLCAyMTIsIDIxMik7XFxyXFxufVxcclxcblxcclxcbi5ibG9nPmgxIHtcXHJcXG4gICAgY29sb3I6IHJnYigyMTIsIDIxMiwgMjEyKTtcXHJcXG59XFxyXFxuXFxyXFxuLmJsb2c+aDIge1xcclxcbiAgICBjb2xvcjogcmdiKDIxMiwgMjEyLCAyMTIpO1xcclxcbn1cXHJcXG5cXHJcXG4uYmxvZz5oMyB7XFxyXFxuICAgIGNvbG9yOiByZ2IoMjEyLCAyMTIsIDIxMik7XFxyXFxufVxcclxcblxcclxcbi5ibG9nIHtcXHJcXG4gICAgcGFkZGluZzogMjBweDtcXHJcXG4gICAgbWFyZ2luLXRvcDogMjBweDtcXHJcXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDIgaWQ9XFxcImhlbGxvLXdvcmxkXFxcIj5IZWxsbyBXb3JsZCE8L2gyPlxcbjxoMyBpZD1cXFwiMjAxOS0xMi0yN1xcXCI+MjAxOS0xMi0yNzwvaDM+XFxuPHA+SSBhbSBUaWFueXUgTGksIGN1cnJlbnRseSBhIGdyYXBoaWNzIGZvY3VzIGdyYWR1YXRlIHN0dWRlbnQuIEkgd2lsbCBzaGFyZSBteSBleHBlcmllbmNlIGFib3V0IGdyYXBoaWNzIGFuZCBwcm9ncmFtbWluZyB0b3BpY3MgdmlhIHRoaXMgYmxvZyB3ZWJzaXRlISBNeSByZWNlbnQgd29yayBpcyBtYWlubHkgYWJvdXQgUmF5IFRyYWNpbmcgYW5kIE5VUkJTIG1vZGVsaW5nIHRlY2huaXF1ZS4gTmV4dCBzZW1lc3RlciwgSSBwbGFuIHRvIGltcGxlbWVudCBteSBvd24gcmVhbHRpbWUgcmVuZGVyZXIgaW4gUnVzdCBQcm9ncmFtbWluZyBsYW5ndWFnZSwgd2hpY2ggaXMgZ29pbmcgdG8gc3VwcG9ydCBwaHlzaWNzIGFuaW1hdGlvbiwgZ3B1IGJhc2VkIHJheSB0cmFjaW5nLCBhbmQgcGJyIGJhc2VkIHJlYWx0aW1lIHJlbmRlcmluZy4gSWYgeW91IGFyZSBpbnRlcmVzdGVkIGF0IFJ1c3Qgb3IgZ3JhcGhpY3MgdG9waWNzLCB5b3UgY2FuIHZpc2l0IHRoaXMgd2Vic2l0ZSBvbiBhIG1vbnRobHkgYmFzaXMgdG8gY2hlY2sgbXkgdXBkYXRlcy4gPC9wPlxcbjxwPlRoaXMgd2Vic2l0ZSB3YXMgZGVzaWduZWQgdG8gYmUgYSB3ZWJzaXRlIHdpdGggbm8gdGhpcmRwYXJ0eSBkZXBlbmRlbmN5IGV4Y2VwdCBmb3IgV2VicGFjay4gSSBpbXBsZW1lbnRlZCBldmVyeSBkZXRhaWxzIHJlcXVpcmVkIGJ5IGEgc3RhdGljIGJsb2cgd2Vic2l0ZS4gQmVjYXVzZSBvZiBpdHMgc3RhdGljaXR5LCB5b3UgY2FuIG5vdCBsZWF2ZSBhIHJldmlldyBvbiB0aGlzIHdlYiBwYWdlLCBJIGFtIGdsYWQgdG8gYnVpbGQgZnVydGhlciBjb250YWN0cyB3aXRoIHlvdSBieSBFbWFpbC4gRmVlbCBmcmVlIHRvIGNvbnRhY3QgbWUhPC9wPlxcbjxwPjxpbWcgc3JjPVxcXCJodHRwczovL2dpdGh1Yi5jb20vV2Vha0tuaWdodC93ZWFra25pZ2h0LmdpdGh1Yi5pby9yYXcvbWFzdGVyL2Fzc2V0cy9ydGFuaW1hdGlvbi5naWZcXFwiIGFsdD1cXFwiYWx0XFxcIi8+IFxcbjxpbWcgc3JjPVxcXCJodHRwczovL2dpdGh1Yi5jb20vV2Vha0tuaWdodC93ZWFra25pZ2h0LmdpdGh1Yi5pby9yYXcvbWFzdGVyL2Fzc2V0cy9wdGhpZ2hzc3AucG5nXFxcIiBhbHQ9XFxcImFsdFxcXCIvPiA8L3A+XFxuXCI7IiwiY2xhc3MgSFRNTEVsZW1lbnRXcmFwcGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZUNsYXNzKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZUNsYXNzKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaHRtbChjb250ZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRWxlbWVudChuYW1lKXtcclxuICAgICAgICBsZXQgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgSFRNTEVsZW1lbnRXcmFwcGVyKG5ld0VsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAkKGVsZW1lbnQpIHtcclxuICAgIGlmICgoZWxlbWVudCBpbnN0YW5jZW9mIFN0cmluZykgfHwgKHR5cGVvZiAoZWxlbWVudCkgPT09ICdzdHJpbmcnKSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmluZGV4T2YoJyMnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50V3JhcHBlcihkb20pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGVsZW1lbnQpWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50V3JhcHBlcihkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIVE1MRWxlbWVudFdyYXBwZXIoZWxlbWVudCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgJCBmcm9tICcuL2NvcmUvdXRpbHMuanMnO1xyXG5pbXBvcnQgU3RhdGVNYWNoaW5lIGZyb20gJy4vY29yZS9zdGF0ZW1hY2hpbmUuanMnO1xyXG5pbXBvcnQgTmF2QmFyIGZyb20gJy4vY29tcG9uZW50cy9uYXZiYXIuanMnO1xyXG5pbXBvcnQgU2lkZUJhciBmcm9tICcuL2NvbXBvbmVudHMvc2lkZWJhci5qcyc7XHJcblxyXG5pbXBvcnQgJy4vc3R5bGVzLmNzcyc7XHJcblxyXG52YXIgbWRodG1sID0gcmVxdWlyZShcIi4vYmxvZ3MvaGVsbG93b3JsZC5tZFwiKTtcclxuY29uc29sZS5sb2cobWRodG1sKTtcclxuXHJcbmNvbnN0IFNUQVRFX05PTkUgPSAtMTtcclxuY29uc3QgU1RBVEVfSE9NRSA9IDA7XHJcbmNvbnN0IFNUQVRFX1BPUlRGT0xJTyA9IDE7XHJcbmNvbnN0IFNUQVRFX0NPTlRBQ1QgPSAyO1xyXG5cclxubGV0IGNsZWFyQ29udGVudCA9ICgpID0+IHtcclxuICAgICQoXCJjb250ZW50XCIpLmh0bWwoXCJcIik7XHJcbn1cclxuXHJcbmxldCBnbG9iYWxTdGF0ZU1haGluZSA9IG5ldyBTdGF0ZU1hY2hpbmUoU1RBVEVfSE9NRSk7XHJcblxyXG5sZXQgaG9tZSA9ICgpID0+IHtcclxuICAgIGdsb2JhbFN0YXRlTWFoaW5lLmNoYW5nZVN0YXRlKFNUQVRFX0hPTUUpO1xyXG59XHJcbmxldCBwb3J0Zm9saW8gPSAoKSA9PiB7XHJcbiAgICBnbG9iYWxTdGF0ZU1haGluZS5jaGFuZ2VTdGF0ZShTVEFURV9QT1JURk9MSU8pO1xyXG59XHJcbmxldCBjb250YWN0ID0gKCkgPT4ge1xyXG4gICAgZ2xvYmFsU3RhdGVNYWhpbmUuY2hhbmdlU3RhdGUoU1RBVEVfQ09OVEFDVCk7XHJcbn1cclxuXHJcbmxldCBvbkNoYW5nZSA9IChwcmV2aW91cywgY3VycmVudCkgPT4ge1xyXG4gICAgaWYgKHByZXZpb3VzICE9PSBjdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJDb250ZW50KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChjdXJyZW50ID09PSBTVEFURV9IT01FICYmIHByZXZpb3VzICE9PSBTVEFURV9IT01FKSB7XHJcbiAgICAgICAgLy8gdG8gYmxvZ3MsIG9wZW4gc2lkZWJhclxyXG4gICAgICAgICQoXCJ0b3BuYXZcIikuZGlzYWJsZUNsYXNzKFwic2lkZWJhci1vZmZcIik7XHJcbiAgICAgICAgJChcInNpZGViYXJcIikuZGlzYWJsZUNsYXNzKFwic2lkZWJhci1vZmZcIik7XHJcbiAgICAgICAgLy8gcmVuZGVyIGJsb2dzXHJcbiAgICAgICAgLy8kKFwiY29udGVudFwiKS5odG1sKG1kaHRtbCk7XHJcbiAgICAgICAgJChcImNvbnRlbnRcIilcclxuICAgICAgICAgICAgLmFkZEVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgICAgIC5lbmFibGVDbGFzcygnYmxvZycpXHJcbiAgICAgICAgICAgIC5odG1sKG1kaHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnJvbSBibG9ncyB0byBvdGhlciwgY2xvc2Ugc2lkZWJhclxyXG4gICAgaWYgKGN1cnJlbnQgIT09IFNUQVRFX0hPTUUgJiYgcHJldmlvdXMgPT09IFNUQVRFX0hPTUUpIHtcclxuICAgICAgICAkKFwidG9wbmF2XCIpLmVuYWJsZUNsYXNzKFwic2lkZWJhci1vZmZcIik7XHJcbiAgICAgICAgJChcInNpZGViYXJcIikuZW5hYmxlQ2xhc3MoXCJzaWRlYmFyLW9mZlwiKTtcclxuICAgIH1cclxufTtcclxuXHJcbmxldCBuYXZCYXIgPSBuZXcgTmF2QmFyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLCBbW1wiQ29udGFjdFwiLCBjb250YWN0XSwgW1wiUG9ydGZvbGlvXCIsIHBvcnRmb2xpb10sIFtcIkhvbWVcIiwgaG9tZV1dLCAyKTtcclxuXHJcbmdsb2JhbFN0YXRlTWFoaW5lLm9uQ2hhbmdlKG9uQ2hhbmdlKTtcclxub25DaGFuZ2UoU1RBVEVfTk9ORSwgU1RBVEVfSE9NRSk7IiwiaW1wb3J0ICQgZnJvbSAnLi91dGlscy5qcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTWFjaGluZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZWZhdWx0U3RhdGUpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGRlZmF1bHRTdGF0ZTtcclxuICAgICAgICB0aGlzLnByZXZpb3VzU3RhdGUgPSBkZWZhdWx0U3RhdGU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZUxpc3RlbmVyID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU3RhdGUoc3RhdGUpIHtcclxuICAgICAgICBmb3IgKGxldCBjYWxsYmFjayBvZiB0aGlzLm9uQ2hhbmdlTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5jdXJyZW50U3RhdGUsIHN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IHRoaXMuY3VycmVudFN0YXRlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgb25DaGFuZ2UoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlTGlzdGVuZXIucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJMaXN0ZW5lcigpIHtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlTGlzdGVuZXIgPSBbXTtcclxuICAgIH1cclxufSIsImltcG9ydCAnLi9uYXZiYXIuY3NzJztcclxuaW1wb3J0ICQgZnJvbSAnLi4vY29yZS91dGlscy5qcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdkJhciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGl0ZW1zLCBhY3RpdmVJbmRleCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcclxuXHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9wbmF2Jyk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChhKTtcclxuXHJcbiAgICAgICAgICAgIGEuaW5uZXJUZXh0ID0gaXRlbVswXTtcclxuICAgICAgICAgICAgYS5ocmVmID0gXCIjXCIgKyBpdGVtWzBdO1xyXG4gICAgICAgICAgICBhW1wiaW5kZXhcIl0gPSBpbmRleDtcclxuICAgICAgICAgICAgYS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoY2hpbGQpLmRpc2FibGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGEuaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAkKGEpLmVuYWJsZUNsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpdGVtWzFdKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuYWN0aXZlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGEuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9